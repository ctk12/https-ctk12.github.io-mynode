<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex">
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet"
    />
    <!-- MDB -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css"
      rel="stylesheet"
    />
    <title>Eye Vision Test</title>
   
    <style>
      body{
        background-color: #FBFBFB;
      }
      .p {
        /* background-color: black; */
        color: black;
        font-weight: bold;
        font-size: 2rem;
        margin: auto;
        width: fit-content;
      }
      .gfg-box {
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <!-- Tabs navs -->
    <div class="nav nav-tabs nav-justified mb-3" id="ex1" role="tablist">
      <div class="nav-item" role="presentation">
        <!-- <a
          style="font-size: 1rem"
          class="nav-link active"
          id="ex3-tab-1"
          data-mdb-toggle="tab"
          href="#ex3-tabs-1"
          role="tab"
          aria-controls="ex3-tabs-1"
          aria-selected="true"
          >Letters - English</a
        > -->
        <div class="dropdown">
        <button
          class="btn btn-secondary btn-lg dropdown-toggle mb-1"
          style="width: 98%;"
          type="button"
          id="dropdownMenuButton2"
          data-mdb-toggle="dropdown"
          aria-expanded="false"
		  disabled
        >Uppercase Letters - English
      </button>
      <ul
      class="dropdown-menu dropdown-menu-dark"
      style="width: 98%;"
      aria-labelledby="dropdownMenuButton2"
    >
      <li>
        <a
          class="dropdown-item m-1 text-center"
          href="javascript:void(0)"
          onclick="sectionSelect(event,'Uppercase Letters - English')"
          >Uppercase Letters - English</a
        >
      </li>
      <li>
        <a
          class="dropdown-item m-1 text-center"
          href="javascript:void(0)"
          onclick="sectionSelect(event,'Lowercase Letters - English')"
          >Lowercase Letters - English</a
        >
      </li>
      <li>
        <a
          class="dropdown-item m-1 text-center"
          href="javascript:void(0)"
          onclick="sectionSelect(event,'Letters - Kannada')"
          >Letters - Kannada</a
        >
      </li>
      <li>
        <a
          class="dropdown-item m-1 text-center"
          href="javascript:void(0)"
          onclick="sectionSelect(event,'Numbers')"
          >Numbers</a
        >
      </li>
      <li>
        <a
          class="dropdown-item m-1 text-center"
          href="javascript:void(0)"
          onclick="sectionSelect(event,'Color - Dots')"
          >Color - Dots</a
        >
      </li>
      <li>
        <a
          class="dropdown-item m-1 text-center"
          href="javascript:void(0)"
          onclick="sectionSelect(event,'Animals - Birds')"
          >Animals - Birds</a
        >
      </li>
      <!-- <li><hr class="dropdown-divider" /></li>
      <li><a class="dropdown-item m-1" href="#">Separated link</a></li> -->
    </ul>
      </div>
    </div>
  </div>
    <!-- Tabs navs -->
    



   
<br>
	  <div id="checkw">
	  <div class="alert alert-info text-center" role="alert">
		Please Wait! Loading...
	  </div>
	  </div>
<br>
<br>
    <div class="justify-content-center p-2 d-flex align-content-stretch flex-wrap flex-row flex-sm-row flex-lg-row flex-md-row flex-xl-row flex-xxl-row">
      <center>
      <div
        style="
          text-align: center;
          width: fit-content;
          margin-right: auto;
          font-size: 1.5rem;
        "
      >
      
        <button class="btn btn-primary btn-lg rounded" id="dbtn" disabled>â€“</button><br />
        <button class="btn btn-primary btn-lg rounded" id="lrbtn" disabled><</button>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button class="btn btn-primary btn-lg rounded" id="llbtn" disabled>></button><br />
        <button class="btn btn-primary btn-lg rounded" id="ibtn" disabled>+</button>
      </div>
      <input type="hidden" id="hfsize" value="1" />
      <input type="hidden" id="lhfsize" value="0" />
      <input type="hidden" id="ssel" value="Uppercase Letters - English" />
      <input type="hidden" id="active-menu" value="Uppercase Letters - English" />
      <input type="hidden" id="active-case" value="Uppercase Letters - English" />
	  <input type="hidden" id="getOpen" value="11111" />
		  
     </center>
    </div>

    <script>
      document.getElementById("lrbtn").addEventListener("click", function () {
		    getServerData("lrbtn"); 
      });

      document.getElementById("llbtn").addEventListener("click", function () {
		    getServerData("llbtn");  
      });

      document.getElementById("ibtn").addEventListener("click", function () {
		    getServerData("ibtn");
      });

      document.getElementById("dbtn").addEventListener("click", function () {
		    getServerData("dbtn");
      });


      function sectionSelect(event, data) {
        document.getElementById("dropdownMenuButton2").innerText = data;
		    getServerData(data);
      }

       
         function getServerData(valtosend) {

             document.getElementById("checkw").innerHTML = `<div class="alert alert-success text-center" role="alert">Wait Task Processing!</div>`;	
                  document.getElementById("ibtn").disabled = true;
                  document.getElementById("dbtn").disabled = true;
                  document.getElementById("llbtn").disabled = true;
                  document.getElementById("lrbtn").disabled = true;
                  document.getElementById("dropdownMenuButton2").classList.remove("show");
                  document.getElementsByClassName("dropdown-menu")[0].classList.remove("show");
                  document.getElementById("dropdownMenuButton2").disabled = true;

          setTimeout(() => {
            if(document.getElementById("checkw").innerHTML !== `<div class="alert alert-danger text-center" role="alert">Test Window is Closed!</div>`) {
              document.getElementById("checkw").innerHTML = `<div class="alert alert-success text-center" role="alert">Test Window is Opened!</div>`;	
                  document.getElementById("ibtn").disabled = false;
                  document.getElementById("dbtn").disabled = false;
                  document.getElementById("llbtn").disabled = false;
                  document.getElementById("lrbtn").disabled = false;
                  document.getElementById("dropdownMenuButton2").disabled = false;
            }
          }, 3000);        
      
          var xmlHttp = new XMLHttpRequest();
           xmlHttp.onreadystatechange = function () {
             if (this.readyState == 4 && this.status == 200){
               let res = JSON.parse(this.responseText)['results'][0];
               // console.log(res.dropdown);
               let resData = res.dropdown;
               resData.push(valtosend);
               let myJson = JSON.stringify(resData);
               getDataUp(myJson);
             }
           }
           xmlHttp.open("GET", 'https://eyevisiontest.b4a.io/classes/Data?where={"objectId":"E41ge9gaBH"}', true); // true for asynchronous
           xmlHttp.setRequestHeader("X-Parse-Application-Id", "lHLdpvFbu8yAQO3PXLtIqq9aebqyDNRDIQZuWLXF");
           xmlHttp.setRequestHeader("X-Parse-REST-API-Key", "X89l3rLqD8VQZBXt9JORdZWZOBvZID3CtujWVLnZ");
           xmlHttp.setRequestHeader("Content-Type", "application/json");
           xmlHttp.send();
    
        }


    function getDataUp(myJson) {

    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        // console.log(this.responseText);
      }
    }
    xmlHttp.open("PUT", 'https://eyevisiontest.b4a.io/classes/Data/E41ge9gaBH', true); // true for asynchronous
    xmlHttp.setRequestHeader("X-Parse-Application-Id", "lHLdpvFbu8yAQO3PXLtIqq9aebqyDNRDIQZuWLXF");
    xmlHttp.setRequestHeader("X-Parse-REST-API-Key", "X89l3rLqD8VQZBXt9JORdZWZOBvZID3CtujWVLnZ");
    xmlHttp.setRequestHeader("Content-Type", "application/json"); 
    xmlHttp.send('{"dropdown":' + myJson + '}'); 
    }

         
        setInterval(function () { 
			
          var xmlHttp = new XMLHttpRequest();
           xmlHttp.onreadystatechange = function () {
             if (this.readyState == 4 && this.status == 200){
               let res = JSON.parse(this.responseText)['results'][0];
               // console.log(res.dropdown);
               let resData = res.name;
               let preUniq = document.getElementById("getOpen").value;
                if(resData !== preUniq && document.getElementById("checkw").innerHTML !== `<div class="alert alert-success text-center" role="alert">Wait Task Processing!</div>`) { 
                  document.getElementById("getOpen").value = resData;
                  document.getElementById("checkw").innerHTML = `<div class="alert alert-success text-center" role="alert">Test Window is Opened!</div>`;	
                  document.getElementById("ibtn").disabled = false;
                  document.getElementById("dbtn").disabled = false;
                  document.getElementById("llbtn").disabled = false;
                  document.getElementById("lrbtn").disabled = false;
                  document.getElementById("dropdownMenuButton2").disabled = false;
                } else if (resData === preUniq) {
                  document.getElementById("checkw").innerHTML = `<div class="alert alert-danger text-center" role="alert">Test Window is Closed!</div>`;	
                  document.getElementById("ibtn").disabled = true;
                  document.getElementById("dbtn").disabled = true;
                  document.getElementById("llbtn").disabled = true;
                  document.getElementById("lrbtn").disabled = true;
                  document.getElementById("dropdownMenuButton2").disabled = true;
                } 
             }
           }
           xmlHttp.open("GET", 'https://eyevisiontest.b4a.io/classes/Data?where={"objectId":"E41ge9gaBH"}', true); // true for asynchronous
           xmlHttp.setRequestHeader("X-Parse-Application-Id", "lHLdpvFbu8yAQO3PXLtIqq9aebqyDNRDIQZuWLXF");
           xmlHttp.setRequestHeader("X-Parse-REST-API-Key", "X89l3rLqD8VQZBXt9JORdZWZOBvZID3CtujWVLnZ");
           xmlHttp.setRequestHeader("Content-Type", "application/json");
           xmlHttp.send();
		
		}, 3000);



    </script>
    
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.js"
    ></script>
  </body>
</html>
