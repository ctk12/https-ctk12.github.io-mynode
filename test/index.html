<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="robots" content="noindex">
        <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="all.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="adminlte.min.css">
    <title>Eye Vision Test</title>
</head>

<body>
	
    <div class="card-body">
        <div class="row">
            <div class="col-4">
                <div class="btn-group">
                    <button type="button" class="btn btn-info" id="dbtn">-</button>
                    <button type="button" class="btn btn-info" id="ibtn">+</button>
                    <button type="button" class="btn btn-info" id="lrbtn"><</button>
                    <button type="button" class="btn btn-info" id="llbtn">></button>
                </div>
					
                <input type="hidden" id="hfsize" value="1" />
                <input type="hidden" id="lhfsize" value="0" />
                <input type="hidden" id="ssel" value="Uppercase Letters - English" />
                <input type="hidden" id="active-menu" value="Uppercase Letters - English" />
                <input type="hidden" id="active-case" value="Uppercase Letters - English" />
            </div>
			<div class="col-4 text-center">
					<p style="color:blue;font-size:2rem;">Eye Vision Chart</p>		  
			</div>
            <div class="col-4">
                <button type="button" id="dropdownMenuButton2" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Uppercase Letters - English</button>
                    <div class="dropdown-menu" role="menu" >
                        <a
                        class="dropdown-item text-center"
                        href="javascript:void(0)"
                        onclick="sectionSelect(event,'Uppercase Letters - English')"
                        >Uppercase Letters - English</a
                      >
                    
                        <a
                          class="dropdown-item text-center"
                          href="javascript:void(0)"
                          onclick="sectionSelect(event,'Lowercase Letters - English')"
                          >Lowercase Letters - English</a
                        >
                     
                        <a
                          class="dropdown-item text-center"
                          href="javascript:void(0)"
                          onclick="sectionSelect(event,'Letters - Kannada')"
                          >Letters - Kannada</a
                        >
                    
                        <a
                          class="dropdown-item text-center"
                          href="javascript:void(0)"
                          onclick="sectionSelect(event,'Numbers')"
                          >Numbers</a
                        >
                     
                        <a
                          class="dropdown-item text-center"
                          href="javascript:void(0)"
                          onclick="sectionSelect(event,'Color - Dots')"
                          >Color - Dots</a
                        >
                     
                        <a
                          class="dropdown-item text-center"
                          href="javascript:void(0)"
                          onclick="sectionSelect(event,'Animals - Birds')"
                          >Animals - Birds</a
                        >
                      
                
                        <div class="dropdown-divider"></div>
                    </div>
            </div>
        </div>
    </div>

    <div class="card">
        <!-- /.card-header -->
        <div class="text-center d-flex align-items-center w-100" style="height:400px;">
            <p class="w-100" id="letter" style="font-size: 1rem;transition: 0.5s;font-weight: bold;">A</p> 
        </div>
        <!-- /.card-body -->
        <!-- /.card-footer -->
    </div>
    <!-- /.card -->
    
    <script>
        document.getElementById("lrbtn").addEventListener("click", function () {
          let getsec = document.getElementById("ssel").value;
          let arr = [];
          if (getsec === "Uppercase Letters - English" || getsec === "Lowercase Letters - English") {
            arr = [
              "A",
              "B",
              "C",
              "D",
              "E",
              "A B",
              "A B C",
              "A B C D",
              "A B C D E",
            ];
          } else if (getsec === "Letters - Kannada") {
            arr = [
              "ಅ",
              "ಆ",
              "ಇ",
              "ಈ",
              "ಉ",
              "ಅ ಆ",
              "ಅ ಆ ಇ",
              "ಆ ಇ ಈ",
              "ಇ ಈ ಉ",
            ];
          } else if (getsec === "Numbers") {
            arr = [
              "1",
              "2",
              "3",
              "4",
              "5",
              "1 2",
              "1 2 3",
              "1 2 3 4",
              "1 2 3 4 5",
            ];
          } else if (getsec === "Color - Dots") {
            arr = [
              "<span style='color:black;'>&#x2022;</span>",
              "<span style='color:red;'>&#x2022;</span>",
              "<span style='color:green;'>&#x2022;</span>",
              "<span style='color:blue;'>&#x2022;</span>",
              "<span style='color:gray;'>&#x2022;</span>",
              "<span style='color:black;'>&#x2022;</span> <span style='color:red;'>&#x2022;</span>",
              "<span style='color:black;'>&#x2022;</span> <span style='color:red;'>&#x2022;</span> <span style='color:green;'>&#x2022;</span>",
              "<span style='color:black;'>&#x2022;</span> <span style='color:red;'>&#x2022;</span> <span style='color:green;'>&#x2022;</span> <span style='color:blue;'>&#x2022;</span>",
              "<span style='color:black;'>&#x2022;</span> <span style='color:red;'>&#x2022;</span> <span style='color:green;'>&#x2022;</span> <span style='color:blue;'>&#x2022;</span> <span style='color:gray;'>&#x2022;</span>",
            ];
          } else if (getsec === "Animals - Birds") {
            arr = [
             '<img src="./img/1.jpeg" alt="Animals-Birds">',
             '<img src="./img/2.jpeg" alt="Animals-Birds">',
             '<img src="./img/3.jpeg" alt="Animals-Birds">',
             '<img src="./img/4.jpeg" alt="Animals-Birds">',
             '<img src="./img/5.jpeg" alt="Animals-Birds">',
             '<img src="./img/6.jpeg" alt="Animals-Birds">',
             '<img src="./img/7.jpeg" alt="Animals-Birds">',
             '<img src="./img/8.jpeg" alt="Animals-Birds">',
             '<img src="./img/9.jpeg" alt="Animals-Birds">',
            ];
          }
  
          let ldata = document.getElementById("lhfsize").value;
          ldata = +ldata;
          if (ldata === 0) {
          } else {
            ldata -= 1;
            document.getElementById("lhfsize").value = ldata;
            if (
              document.getElementById("active-case").value === "Uppercase Letters - English"
            ) {
              document.getElementById("letter").innerHTML = arr[ldata];
            } else {
              document.getElementById("letter").innerHTML =
                arr[ldata].toLowerCase();
            }
          }
        });
        document.getElementById("llbtn").addEventListener("click", function () {
          let getsec = document.getElementById("ssel").value;
          let arr = [];
          if (getsec === "Uppercase Letters - English" || getsec === "Lowercase Letters - English") {
            arr = [
              "A",
              "B",
              "C",
              "D",
              "E",
              "A B",
              "A B C",
              "A B C D",
              "A B C D E",
            ];
          } else if (getsec === "Letters - Kannada") {
            arr = [
              "ಅ",
              "ಆ",
              "ಇ",
              "ಈ",
              "ಉ",
              "ಅ ಆ",
              "ಅ ಆ ಇ",
              "ಆ ಇ ಈ",
              "ಇ ಈ ಉ",
            ];
          } else if (getsec === "Numbers") {
            arr = [
              "1",
              "2",
              "3",
              "4",
              "5",
              "1 2",
              "1 2 3",
              "1 2 3 4",
              "1 2 3 4 5",
            ];
          } else if (getsec === "Color - Dots") {
            arr = [
              "<span style='color:black;'>&#x2022;</span>",
              "<span style='color:red;'>&#x2022;</span>",
              "<span style='color:green;'>&#x2022;</span>",
              "<span style='color:blue;'>&#x2022;</span>",
              "<span style='color:gray;'>&#x2022;</span>",
              "<span style='color:black;'>&#x2022;</span> <span style='color:red;'>&#x2022;</span>",
              "<span style='color:black;'>&#x2022;</span> <span style='color:red;'>&#x2022;</span> <span style='color:green;'>&#x2022;</span>",
              "<span style='color:black;'>&#x2022;</span> <span style='color:red;'>&#x2022;</span> <span style='color:green;'>&#x2022;</span> <span style='color:blue;'>&#x2022;</span>",
              "<span style='color:black;'>&#x2022;</span> <span style='color:red;'>&#x2022;</span> <span style='color:green;'>&#x2022;</span> <span style='color:blue;'>&#x2022;</span> <span style='color:gray;'>&#x2022;</span>",
            ];
          } else if (getsec === "Animals - Birds") {
            arr = [
             '<img src="./img/1.jpeg" alt="Animals-Birds">',
             '<img src="./img/2.jpeg" alt="Animals-Birds">',
             '<img src="./img/3.jpeg" alt="Animals-Birds">',
             '<img src="./img/4.jpeg" alt="Animals-Birds">',
             '<img src="./img/5.jpeg" alt="Animals-Birds">',
             '<img src="./img/6.jpeg" alt="Animals-Birds">',
             '<img src="./img/7.jpeg" alt="Animals-Birds">',
             '<img src="./img/8.jpeg" alt="Animals-Birds">',
             '<img src="./img/9.jpeg" alt="Animals-Birds">',
            ];
          }
  
          let ldata = document.getElementById("lhfsize").value;
          ldata = +ldata;
          if (ldata === 8) {
          } else {
            ldata += 1;
            document.getElementById("lhfsize").value = ldata;
            if (
              document.getElementById("active-case").value === "Uppercase Letters - English"
            ) {
              document.getElementById("letter").innerHTML = arr[ldata];
            } else {
              document.getElementById("letter").innerHTML =
                arr[ldata].toLowerCase();
            }
          }
        });
        document.getElementById("ibtn").addEventListener("click", function () {
          let ldata = document.getElementById("hfsize").value;
          ldata = +ldata;
          if (ldata === 14) {
          } else {
            if(ldata === 1){ ldata = ldata + 1; }else{ ldata = ldata + 2; }
            document.getElementById("hfsize").value = ldata;
            document.getElementById("letter").style.fontSize = `${ldata}rem`;
            document.getElementsByTagName("span").style.width = `${ldata}rem`;
            document.getElementsByTagName("span").style.height = `${ldata}rem`;
          }
        });
        document.getElementById("dbtn").addEventListener("click", function () {
          let ldata = document.getElementById("hfsize").value;
          ldata = +ldata;
          if (ldata === 1) {
          } else {
            if(ldata === 2){ ldata = ldata - 1; }else{ ldata = ldata - 2; }
            document.getElementById("hfsize").value = ldata;
            document.getElementById("letter").style.fontSize = `${ldata}rem`;
          }
        });
  
  
        function sectionSelect(event, data) {
          //alert(data);
          // event.target
          document.getElementById("active-menu").value = data;
          if (data === "Uppercase Letters - English") {
            document.getElementById("active-case").value = data;
            document.getElementById("letter").innerText = "A";
          } else if (data === "Lowercase Letters - English") {
            document.getElementById("active-case").value = data;
            document.getElementById("letter").innerText = "a";
          } else if (data === "Letters - Kannada") {
            document.getElementById("letter").innerText = "ಅ";
          } else if (data === "Numbers") {
            document.getElementById("letter").innerText = "1";
          } else if (data === "Color - Dots") {
            document.getElementById("letter").innerHTML = "&#x2022;";
          } else if (data === "Animals - Birds") {
            document.getElementById("letter").innerHTML = '<img src="./img/1.jpeg" alt="Animals-Birds">';
          }
          // document.getElementById("ex3-tab-1").innerText = data;
          document.getElementById("dropdownMenuButton2").innerText = data;
          document.getElementById("ssel").value = data;
          document.getElementById("lhfsize").value = 0;
        }
          
          function onStartUp(ddata) {
            const rand = Math.random().toString(16).substr(2, 8);
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.onreadystatechange = function () {
              if (this.readyState == 4 && this.status == 200) {
                // console.log(this.responseText);
              }
            }
            xmlHttp.open("PUT", 'https://testkatwa.b4a.io/classes/Data/qAC7v7Yr8S', true); // true for asynchronous
            xmlHttp.setRequestHeader('X-Parse-Application-Id', 'aCGx06YPNNXzVIVO4AcBHsVpstrflv74w047y65q');
            xmlHttp.setRequestHeader('X-Parse-REST-API-Key', 'tUKwHsnyK1qTLr0sxdRXIeSr37Uy8VB8ly4gODWV');
            xmlHttp.setRequestHeader('Content-Type', 'application/json');  
            xmlHttp.send('{"name":"' + rand + '", "dropdown":' + ddata + '}');
          }
          
   
          
          
          function getServerData() {
           
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.onreadystatechange = function () {
              if (this.readyState == 4 && this.status == 200){
                let res = JSON.parse(this.responseText)['results'][0];
                // console.log(res.dropdown);
                let resData = res.dropdown;
                let mainData = resData[0];
                resData.shift();
                let myJson = JSON.stringify(resData);

                onStartUp(myJson); 
                if (mainData === undefined) {

                } else if (mainData === "dbtn" || mainData === "lrbtn" || mainData === "llbtn" || mainData === "ibtn") {
                  document.getElementById(mainData).click();
                } else {
                    sectionSelect("0", mainData);
                }
              }
            }
            xmlHttp.open("GET", 'https://testkatwa.b4a.io/classes/Data?where={"objectId":"qAC7v7Yr8S"}', true); // true for asynchronous
            xmlHttp.setRequestHeader('X-Parse-Application-Id', 'aCGx06YPNNXzVIVO4AcBHsVpstrflv74w047y65q');
            xmlHttp.setRequestHeader('X-Parse-REST-API-Key', 'tUKwHsnyK1qTLr0sxdRXIeSr37Uy8VB8ly4gODWV');
            xmlHttp.send();

        }
          
          setInterval(function () { 
            getServerData(); 
          }, 2000);
          
          
          
          
          
      </script>

        <!-- jQuery -->
    <script src="jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="bootstrap.bundle.min.js"></script>
    <!-- AdminLTE App -->
    <script src="adminlte.min.js"></script>
</body>

</html>